# æ•°æ®åº“å¿«é€Ÿå‚è€ƒå¡ç‰‡

> ä¸€æ—¥ä¸‰é¤é¡¹ç›® - æ•°æ®åº“ç®¡ç†å¸¸ç”¨å‘½ä»¤

## ğŸ” æŸ¥çœ‹æ•°æ®

```bash
# æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡
cd backend && node scripts/cleanup-database.js stats

# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
mongo eatracker --eval "db.users.find().pretty()"

# æŸ¥çœ‹æ‰€æœ‰é£Ÿæ
mongo eatracker --eval "db.ingredients.find().pretty()"

# æŸ¥çœ‹ç”¨æˆ·æ•°é‡
mongo eatracker --eval "db.users.count()"

# æŸ¥çœ‹é£Ÿææ•°é‡
mongo eatracker --eval "db.ingredients.count()"

# æŸ¥çœ‹ç‰¹å®šç”¨æˆ·çš„é£Ÿæ
mongo eatracker --eval "db.ingredients.find({userId: ObjectId('ç”¨æˆ·ID')}).pretty()"
```

## ğŸ—‘ï¸ æ¸…ç†æ•°æ®

```bash
# åˆ é™¤æ‰€æœ‰ç”¨æˆ·å’Œé£Ÿæï¼ˆæ¨èï¼‰
cd backend && node scripts/cleanup-database.js users

# åˆ é™¤æŒ‡å®šç”¨æˆ·å’Œå…¶é£Ÿæ
cd backend && node scripts/cleanup-database.js user testuser

# æ¸…ç©ºæ•´ä¸ªæ•°æ®åº“
cd backend && node scripts/cleanup-database.js all

# åˆ é™¤ç‰¹å®šç”¨æˆ·ï¼ˆæ‰‹åŠ¨ï¼‰
mongo eatracker --eval "db.users.deleteOne({username: 'ç”¨æˆ·å'})"

# åˆ é™¤ç‰¹å®šé£Ÿæï¼ˆæ‰‹åŠ¨ï¼‰
mongo eatracker --eval "db.ingredients.deleteOne({_id: ObjectId('é£ŸæID')})"
```

## ğŸ§ª APIæµ‹è¯•

```bash
# å¿«é€ŸAPIæµ‹è¯•
cd backend && npm install axios && node scripts/test-ingredient-api.js

# åŠŸèƒ½æ¼”ç¤º
cd backend && node scripts/demo-ingredient-features.js

# æ‰‹åŠ¨æµ‹è¯•ç”¨æˆ·è®¤è¯
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username": "testuser", "password": "test123", "name": "æµ‹è¯•ç”¨æˆ·"}'

# æ‰‹åŠ¨æµ‹è¯•é£Ÿææ·»åŠ 
export TOKEN="your_jwt_token_here"
curl -X POST http://localhost:5000/api/ingredients \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name": "è‹¹æœ", "category": "æ°´æœ", "quantity": 5, "unit": "ä¸ª", "nutrition": {"calories": 52, "protein": 0.3, "carbs": 14, "fat": 0.2, "fiber": 2.4}, "expiryDate": "2024-12-31T00:00:00.000Z"}'
```

## ğŸš€ å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend && npm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend && npm start

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:5000/  # åç«¯
curl http://localhost:3000/ # å‰ç«¯
```

## âš ï¸ é‡è¦æé†’

- **å¯†ç æ— æ³•æŸ¥çœ‹**: bcryptåŠ å¯†ä¸å¯é€†
- **åˆ é™¤ä¸å¯æ¢å¤**: æ“ä½œå‰è¯·ç¡®è®¤
- **ç”¨æˆ·ä¿¡æ¯ä¸€ä½“**: åˆ é™¤ç”¨æˆ·ä¼šæ¸…é™¤æ‰€æœ‰ä¸ªäººä¿¡æ¯ï¼ˆå§“åã€ä½“é‡ã€èº«é«˜ç­‰ï¼‰
- **é£Ÿæå…³è”**: åˆ é™¤ç”¨æˆ·ä¼šè‡ªåŠ¨åˆ é™¤å…¶æ‰€æœ‰é£Ÿæ
- **æ•°æ®éš”ç¦»**: æ¯ä¸ªç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„é£Ÿæ

## ğŸ“‹ æ•°æ®åº“æ¦‚å¿µ

- **æ•°æ®åº“**: `eatracker`
- **ç”¨æˆ·é›†åˆ**: `users`  
- **é£Ÿæé›†åˆ**: `ingredients`
- **é”™è¯¯æ“ä½œ**: `use users` âŒï¼ˆè¿™æ˜¯åˆ‡æ¢åˆ°usersæ•°æ®åº“ï¼Œä¸æ˜¯è®¿é—®usersé›†åˆï¼‰
- **æ­£ç¡®æ“ä½œ**: `use eatracker` â†’ `db.users.find()` âœ…

## ğŸ”§ æ•…éšœæ’é™¤

```bash
# æ£€æŸ¥MongoDBæœåŠ¡
brew services start mongodb-community

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :5000  # åç«¯ç«¯å£
lsof -i :3000  # å‰ç«¯ç«¯å£

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
cd backend && npm run dev  # æŸ¥çœ‹åç«¯æ—¥å¿—
cd frontend && npm start   # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
```

---

*è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ: [æ•°æ®åº“ç®¡ç†æŒ‡å—.md](./æ•°æ®åº“ç®¡ç†æŒ‡å—.md)* 